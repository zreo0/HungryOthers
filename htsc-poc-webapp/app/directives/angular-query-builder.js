!function(n){function t(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return n[e].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=n,t.c=r,t.p="",t(0)}([function(n,t,r){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}var o=r(9),u=e(o),i=r(36),c=e(i);!function(){function n(){return{restrict:"AE",scope:{options:"=queryBuilder",templateUrl:"=?"},template:'<div query-builder-group="options" group="options._query.group"></div>',link:function(n){function t(n){for(var r=[],e={},o=0;o<n.rules.length;o++)if(e[n.operator.value]=r,n.rules[o].group)r.push(t(n.rules[o].group));else{var i={};i[n.rules[o].field.value]={},i[n.rules[o].field.value][n.rules[o].condition.value]=n.rules[o].data,r.push(i)}var c=(0,u["default"])(e)[0];return c&&e[c].length<2&&(e=e[c].pop()),e}var r={operators:[{name:"AND",value:"$and"},{name:"OR",value:"$or"}],conditions:[{name:"equal",value:"$eq"},{name:"is not equal",value:"$neq"},{name:"less than",value:"$lt"},{name:"less than or equal",value:"$lte"},{name:"greater than",value:"$gt"},{name:"greater than or equal",value:"$gte"}],templateUrl:n.templateUrl};n.options=angular.extend({},r,n.options),n.options._query={group:{operator:n.options.operators[0],rules:[]}},n.format=t,n.$watch("options._query",function(t){n.options.query=n.format(t.group)},!0)}}}function t(n){"ngInject";return{restrict:"AE",scope:{group:"=",options:"=queryBuilderGroup"},template:'<div ng-include="getTemplate()"></div>',compile:function(t){var r=void 0,e=t.contents().remove();return function(t,o){function u(){t.group.rules.push({condition:t.options.conditions[0],field:t.options.fields[0],data:""})}function i(n){t.group.rules.splice(n,1)}function s(){t.group.rules.push({group:{operator:t.options.operators[0],rules:[]}})}function a(){"group"in t.$parent&&t.$parent.group.rules.splice(t.$parent.$index,1)}function l(){return t.options.templateUrl||c["default"]}t.addCondition=u,t.removeCondition=i,t.addGroup=s,t.removeGroup=a,t.getTemplate=l,r||(r=n(e)),r(t,function(n){o.append(n)})}}}}function r(){return{restrict:"A",scope:{list:"=attrs"},link:function(n,t){n.$watch("list",function(r){for(var e in n.list)t.attr(e,n.list[e])})}}}t.$inject=["$compile"],angular.module("ngQueryBuilder",[]).directive("queryBuilder",n).directive("queryBuilderGroup",t).directive("attrs",r)}()},function(n,t){var r=n.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(n,t,r){n.exports=!r(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(n,t){n.exports=function(n){try{return!!n()}catch(t){return!0}}},function(n,t){var r=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(n,t){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,t){n.exports=function(n){if(void 0==n)throw TypeError("Can't call method on  "+n);return n}},function(n,t){var r=Math.ceil,e=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?e:r)(n)}},function(n,t,r){var e=r(22),o=r(6);n.exports=function(n){return e(o(n))}},function(n,t,r){n.exports={"default":r(10),__esModule:!0}},function(n,t,r){r(35),n.exports=r(1).Object.keys},function(n,t){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,t,r){var e=r(5);n.exports=function(n){if(!e(n))throw TypeError(n+" is not an object!");return n}},function(n,t,r){var e=r(8),o=r(31),u=r(30);n.exports=function(n){return function(t,r,i){var c,s=e(t),a=o(s.length),l=u(i,a);if(n&&r!=r){for(;a>l;)if(c=s[l++],c!=c)return!0}else for(;a>l;l++)if((n||l in s)&&s[l]===r)return n||l||0;return!n&&-1}}},function(n,t){var r={}.toString;n.exports=function(n){return r.call(n).slice(8,-1)}},function(n,t,r){var e=r(11);n.exports=function(n,t,r){if(e(n),void 0===t)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,o){return n.call(t,r,e,o)}}return function(){return n.apply(t,arguments)}}},function(n,t,r){var e=r(5),o=r(4).document,u=e(o)&&e(o.createElement);n.exports=function(n){return u?o.createElement(n):{}}},function(n,t){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(n,t,r){var e=r(4),o=r(1),u=r(15),i=r(20),c="prototype",s=function(n,t,r){var a,l,p,f=n&s.F,d=n&s.G,v=n&s.S,g=n&s.P,m=n&s.B,y=n&s.W,h=d?o:o[t]||(o[t]={}),b=h[c],x=d?e:v?e[t]:(e[t]||{})[c];d&&(r=t);for(a in r)l=!f&&x&&void 0!==x[a],l&&a in h||(p=l?x[a]:r[a],h[a]=d&&"function"!=typeof x[a]?r[a]:m&&l?u(p,e):y&&x[a]==p?function(n){var t=function(t,r,e){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,r)}return new n(t,r,e)}return n.apply(this,arguments)};return t[c]=n[c],t}(p):g&&"function"==typeof p?u(Function.call,p):p,g&&((h.virtual||(h.virtual={}))[a]=p,n&s.R&&b&&!b[a]&&i(b,a,p)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,n.exports=s},function(n,t){var r={}.hasOwnProperty;n.exports=function(n,t){return r.call(n,t)}},function(n,t,r){var e=r(23),o=r(27);n.exports=r(2)?function(n,t,r){return e.f(n,t,o(1,r))}:function(n,t,r){return n[t]=r,n}},function(n,t,r){n.exports=!r(2)&&!r(3)(function(){return 7!=Object.defineProperty(r(16)("div"),"a",{get:function(){return 7}}).a})},function(n,t,r){var e=r(14);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==e(n)?n.split(""):Object(n)}},function(n,t,r){var e=r(12),o=r(21),u=r(33),i=Object.defineProperty;t.f=r(2)?Object.defineProperty:function(n,t,r){if(e(n),t=u(t,!0),e(r),o)try{return i(n,t,r)}catch(c){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(n[t]=r.value),n}},function(n,t,r){var e=r(19),o=r(8),u=r(13)(!1),i=r(28)("IE_PROTO");n.exports=function(n,t){var r,c=o(n),s=0,a=[];for(r in c)r!=i&&e(c,r)&&a.push(r);for(;t.length>s;)e(c,r=t[s++])&&(~u(a,r)||a.push(r));return a}},function(n,t,r){var e=r(24),o=r(17);n.exports=Object.keys||function(n){return e(n,o)}},function(n,t,r){var e=r(18),o=r(1),u=r(3);n.exports=function(n,t){var r=(o.Object||{})[n]||Object[n],i={};i[n]=t(r),e(e.S+e.F*u(function(){r(1)}),"Object",i)}},function(n,t){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},function(n,t,r){var e=r(29)("keys"),o=r(34);n.exports=function(n){return e[n]||(e[n]=o(n))}},function(n,t,r){var e=r(4),o="__core-js_shared__",u=e[o]||(e[o]={});n.exports=function(n){return u[n]||(u[n]={})}},function(n,t,r){var e=r(7),o=Math.max,u=Math.min;n.exports=function(n,t){return n=e(n),n<0?o(n+t,0):u(n,t)}},function(n,t,r){var e=r(7),o=Math.min;n.exports=function(n){return n>0?o(e(n),9007199254740991):0}},function(n,t,r){var e=r(6);n.exports=function(n){return Object(e(n))}},function(n,t,r){var e=r(5);n.exports=function(n,t){if(!e(n))return n;var r,o;if(t&&"function"==typeof(r=n.toString)&&!e(o=r.call(n)))return o;if("function"==typeof(r=n.valueOf)&&!e(o=r.call(n)))return o;if(!t&&"function"==typeof(r=n.toString)&&!e(o=r.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},function(n,t){var r=0,e=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++r+e).toString(36))}},function(n,t,r){var e=r(32),o=r(25);r(26)("keys",function(){return function(n){return o(e(n))}})},function(n,t){var r="/src/query-builder-group-directive.html",e='<div class="alert alert-info"> <div class=form-inline> <select ng-options="o.name for o in options.operators track by o.value" ng-model=group.operator class="form-control input-sm"></select> <button ng-click=addCondition() class="btn btn-sm btn-success"><span class="glyphicon glyphicon-plus-sign"></span>增加条件</button> <button ng-click=addGroup() class="btn btn-sm btn-purple"><span class="glyphicon glyphicon-plus-sign"></span>增加条件组</button> <button ng-click=removeGroup() class="btn btn-sm btn-danger"><span class="glyphicon glyphicon-minus-sign"></span>移除条件组</button> </div> <div class=query-builder-group> <div ng-repeat="rule in group.rules | orderBy:\'index\'" class=query-builder-condition> <div ng-switch="rule.hasOwnProperty(\'group\')"> <div ng-switch-when=true> <div query-builder-group=options group=rule.group></div> </div> <div ng-switch-default> <div class=form-inline> <select ng-options="f.name for f in options.fields track by f.value" ng-model=rule.field class="form-control input-sm"></select> <select ng-options="c.name for c in options.conditions track by c.value" ng-model=rule.condition class="form-control input-sm"></select> <input type=text ng-model=rule.data class="form-control input-sm" attrs=rule.field.attrs> <button ng-click=removeCondition($index) class="btn btn-sm btn-danger"><span class="glyphicon glyphicon-minus-sign"></span></button> </div> </div> </div> </div> </div> </div>';window.angular.module("ng").run(["$templateCache",function(n){n.put(r,e)}]),n.exports=r}]);
//# sourceMappingURL=angular-query-builder.js.map